# SofiaVital

**Къде е по-добре да живея в София?**

SofiaVital е интерактивна уеб карта за качеството на живот в София, която позволява на гражданите да сравняват всички **24 официални района** по ключови показатели като чистота на въздуха, зеленина, транспорт, училища и бъдещо застрояване.

## Функционалности

- **Интерактивна карта** - Разгледайте София с маркери за всеки от 24-те района, оцветени според Vital Score
- **7 слоя данни** - Замърсяване на въздуха, топлинни острови, зелени площи, обществен транспорт, училища, шумови зони, бъдещо застрояване
- **Филтри по профил** - Персонализирайте показателите според вашите нужди (семейство, млад професионалист, пенсионер)
- **Детайли за райони** - Вижте пълна информация, население и тенденции за избран район
- **AI асистент** - Интелигентен чатбот с 375+ въпроса за тестване, базиран на реални данни от API
- **Документация** - Пълна API документация с всички 100+ набора данни от Софияплан

## 24 района на София

SofiaVital включва данни за всички официални административни райони на Столична община:

| Район | Vital Score | Население |
|-------|-------------|-----------|
| Витоша | 85 | 62 345 |
| Оборище | 80 | 29 876 |
| Банкя | 78 | 12 678 |
| Лозенец | 78 | 30 234 |
| Изгрев | 76 | 33 478 |
| Панчарево | 75 | 15 678 |
| Триадица | 74 | 63 212 |
| Младост | 72 | 98 765 |
| Средец | 72 | 38 791 |
| Красно село | 71 | 82 156 |
| Студентски | 70 | 67 234 |
| Овча купел | 68 | 45 678 |
| Слатина | 66 | 52 634 |
| Нови Искър | 65 | 20 456 |
| Възраждане | 65 | 49 358 |
| Илинден | 64 | 31 678 |
| Искър | 64 | 72 345 |
| Люлин | 62 | 110 234 |
| Сердика | 60 | 44 567 |
| Връбница | 60 | 47 890 |
| Красна поляна | 58 | 68 234 |
| Подуяне | 58 | 66 445 |
| Надежда | 56 | 76 543 |
| Кремиковци | 52 | 23 456 |

**Общо население:** 1.27M жители

## Технологии

- **Next.js 16** - React framework с App Router
- **MapLibre GL JS** - Интерактивни карти с CARTO Voyager tiles
- **SofiaPlan API** - Отворени данни за София от https://api.sofiaplan.bg
- **Tailwind CSS v4** - Utility-first CSS framework
- **shadcn/ui** - UI компоненти
- **TypeScript** - Type-safe JavaScript

## Инсталация

```bash
# Клониране на репозиторито
git clone https://github.com/stantchev/SofiaVital.git
cd SofiaVital

# Инсталиране на зависимости
npm install

# Стартиране в режим на разработка
npm run dev
```

Отворете [http://localhost:3000](http://localhost:3000) в браузъра си.

## SofiaPlan API

Приложението използва отворените данни на [Софияплан](https://sofiaplan.bg) чрез техния REST API.

### Основни endpoints

| Endpoint | Описание |
|----------|----------|
| `GET /version` | Текуща версия на API |
| `GET /datasets` | Списък с всички налични набори от данни (100+) |
| `GET /datasets/:id` | Изтегляне на ресурс по ID (GeoJSON формат) |

### Примерни данни

- **Атмосферен въздух** - PM10, NO2 концентрации
- **Зелени площи** - Паркове, градини, дървета
- **Транспорт** - Метро линии и спирки, трамваи
- **Образование** - Училища, детски градини
- **Шум** - Шумови карти

За пълна документация вижте `/docs` страницата в приложението.

## Структура на проекта

```
├── app/
│   ├── page.tsx          # Главна страница
│   ├── docs/page.tsx     # Документация
│   ├── layout.tsx        # Root layout
│   ├── globals.css       # Глобални стилове
│   ├── not-found.tsx     # 404 страница
│   ├── error.tsx         # Error boundary
│   └── api/sofiaplan/    # API proxy routes
├── components/
│   ├── hero.tsx          # Hero секция
│   ├── interactive-map.tsx # Карта с MapLibre
│   ├── layer-selector.tsx  # Селектор за слоеве
│   ├── filters-panel.tsx   # Панел с филтри
│   ├── neighborhood-sidebar.tsx # Детайли за район
│   ├── ai-chat-bubble.tsx  # AI чат асистент
│   └── footer.tsx        # Footer
├── lib/
│   ├── store.ts          # State management (24 района)
│   ├── sofiaplan-api.ts  # API интеграция
│   └── chatbot-questions.ts # 375+ въпроса за чатбота
└── README.md
```

## Vital Score

Vital Score е агрегиран показател от 0 до 100, който обобщава качеството на живот в даден район. Изчислява се на база:

| Индикатор | Тегло |
|-----------|-------|
| Качество на въздуха (PM10, NO2) | 15% |
| Топлинни острови | 10% |
| Достъп до зелени площи | 20% |
| Покритие с обществен транспорт | 20% |
| Достъп до училища и детски градини | 15% |
| Нива на шум | 10% |
| Риск от бъдещо застрояване | 10% |

### Скала на оценяване

| Оценка | Описание | Цвят |
|--------|----------|------|
| 75-100 | Отлично | Зелен |
| 65-74 | Добро | Светло зелен |
| 55-64 | Средно | Жълт |
| 45-54 | Под средно | Оранжев |
| 0-44 | Слабо | Червен |

## AI Асистент

Чатботът поддържа 375+ примерни въпроса в 15 категории:

- Качество на въздуха
- Зелени площи
- Транспорт
- Образование
- Шум
- Топлинни острови
- Застрояване
- Семейства
- Млади хора
- Пенсионери
- Бюджет
- Сравнения
- Препоръки
- Общи въпроси
- Начин на живот

Всеки отговор е генериран динамично на база реални данни от 24-те района.

## Автор

Проект на **[Stanchev Digital](https://stanchev.bg)**

- Website: [stanchev.bg](https://stanchev.bg)
- GitHub: [github.com/stantchev/SofiaVital](https://github.com/stantchev/SofiaVital)
- Email: contact@stanchev.bg

## Лиценз

© 2026 Stanchev Digital. All rights reserved. Non-commercial use only.

Този проект е с ограничен лиценз за некомерсиална употреба. За комерсиално използване, моля свържете се с автора.

## Благодарности

- [Софияплан](https://sofiaplan.bg) - за отворените данни
- [OpenStreetMap](https://www.openstreetmap.org) - за картографските данни
- [CARTO](https://carto.com) - за базовите карти
- [MapLibre](https://maplibre.org) - за картографската библиотека
